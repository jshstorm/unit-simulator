[![.NET CI](https://github.com/<OWNER>/<REPO>/actions/workflows/dotnet-ci.yml/badge.svg)](https://github.com/<OWNER>/<REPO>/actions/workflows/dotnet-ci.yml)

# UnitMove 시뮬레이션

이 프로젝트는 유닛들의 전투 상황을 시뮬레이션하는 프로그램입니다. 두 개의 분대가 서로 전투를 벌이는 동안의 움직임, 위치 선정, 그리고 전투 로직을 시각화하여 일련의 이미지 프레이으로 생성합니다. 이 시뮬레이션은 충돌 회피, 목표물을 둘러싸기 위한 공격 슬롯 관리, 대형 유지 등과 같은 고급 개념을 구현한 예제입니다.

## 주요 기능

*   **예측 기반 충돌 회피**: 유닛들은 다른 유닛과의 미래 충돌을 예측하고 이를 피하기 위해 경로를 동적으로 수정합니다.
*   **공격 슬롯 시스템**: 근접 유닛이 목표물을 효과적으로 둘러싸고 공격할 수 있도록 대상 주변의 공격 위치를 점유하고 관리합니다. 이를 통해 유닛들이 뭉치지 않고 효율적인 공격 대형을 형성할 수 있습니다.
*   **분대 행동 로직**:
    *   **전투 시**: 각 유닛은 가장 가까운 적을 목표로 삼고, 최적의 공격 위치로 이동하여 교전합니다.
    *   **비전투 시**: 적이 없을 경우, 분대는 리더를 중심으로 지정된 대형을 유지하며 목표 지점으로 이동합니다.
*   **다중 웨이브**: 시뮬레이션은 여러 웨이브의 적들을 순차적으로 생성하여, 모든 웨이브를 성공적으로 막아내는 것을 목표로 합니다.
*   **시각화**: 전체 시뮬레이션 과정은 이미지 프레임으로 렌더링되어 `output` 폴더에 저장됩니다. 이를 통해 각 유닛의 움직임과 전투 상황을 시각적으로 분석할 수 있습니다.

## 시작하기

### 전제 조건

이 프로젝트를 실행하기 위해서는 .NET SDK가 설치되어 있어야 합니다. .NET 공식 웹사이트에서 다운로드하여 설치할 수 있습니다.

### 설치

프로젝트의 의존성을 설치하기 위해, 프로젝트의 루트 디렉터리에서 다음 명령어를 실행하세요:

```bash
dotnet restore
```

## 사용법

시뮬레이션을 실행하려면, 프로젝트의 루트 디렉터리에서 다음 명령어를 실행하세요:

```bash
dotnet run
```

실행이 완료되면, `output` 디렉터리에 시뮬레이션의 각 프레임이 `frame_xxxx.png` 형식의 이미지 파일로 저장됩니다.

### 동영상 생성

생성된 이미지 프레임들을 동영상으로 변환하려면, [FFmpeg](https://ffmpeg.org/)가 설치되어 있어야 합니다. 다음 명령어를 프로젝트 루트 디렉터리에서 실행하여 `output.mp4`라는 이름의 동영상 파일을 생성할 수 있습니다:

```bash
ffmpeg -framerate 60 -i output/frame_%04d.png -c:v libx24 -pix_fmt yuv420p output.mp4
```

## 의존성

이 프로젝트는 다음의 .NET 라이브러리를 사용합니다:

*   **SixLabors.ImageSharp**: 이미지 생성 및 처리를 위한 라이브러리입니다.
*   **SixLabors.ImageSharp.Drawing**: 이미지에 도형과 텍스트를 그리기 위한 라이브러리입니다.

이 라이브러리들은 `dotnet restore` 명령어를 통해 자동으로 설치됩니다.

## 품질 보증 (Quality Assurance)

이 프로젝트는 GitHub Actions를 사용한 CI(Continuous Integration) 파이프라인을 통해 코드의 무결성을 자동으로 검증합니다. Pull Request나 Push가 발생할 때마다 빌드가 정상적으로 수행되는지 확인합니다.

로컬 환경에서 빌드 상태를 확인하려면 다음 명령어를 실행하세요:
```bash
./ci-check.sh
```
